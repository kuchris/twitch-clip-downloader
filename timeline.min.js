!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).WaveSurfer=t.WaveSurfer||{},t.WaveSurfer.Timeline=e())}(this,(function(){"use strict";class t{constructor(){this.listeners={}}on(t,e,i){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==i?void 0:i.once){const i=()=>{this.un(t,i),this.un(t,e)};return this.on(t,i),i}return()=>this.un(t,e)}un(t,e){var i;null===(i=this.listeners[t])||void 0===i||i.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}class e extends t{constructor(t){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=t}onInit(){}_init(t){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((t=>t())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}function i(t,e){const i=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[t,s]of Object.entries(e))if("children"===t&&s)for(const[t,e]of Object.entries(s))e instanceof Node?i.appendChild(e):"string"==typeof e?i.appendChild(document.createTextNode(e)):i.appendChild(i(t,e));else"style"===t?Object.assign(i.style,s):"textContent"===t?i.textContent=s:i.setAttribute(t,s.toString());return i}class n extends e{constructor(t){super(t),this.wrapper=null,this.labels=[],this.options=Object.assign(Object.assign({},t),{height:null!==(r=t.height)&&void 0!==r?r:20,labelColor:null!==(o=t.labelColor)&&void 0!==o?o:"#555",fontSize:null!==(h=t.fontSize)&&void 0!==h?h:"10px",fontFamily:null!==(a=t.fontFamily)&&void 0!==a?a:"Arial",timeInterval:null!==(l=t.timeInterval)&&void 0!==l?l:.5,primaryLabelInterval:null!==(d=t.primaryLabelInterval)&&void 0!==d?d:10,secondaryLabelInterval:null!==(u=t.secondaryLabelInterval)&&void 0!==u?u:5,offset:null!==(c=t.offset)&&void 0!==c?c:0});var r,o,h,a,l,d,u,c}static create(t){return new n(t)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wrapper=i("div",{style:{height:`${this.options.height}px`,overflow:"hidden",display:"flex",flexDirection:"column",zIndex:"3",position:"relative",fontSize:this.options.fontSize,color:this.options.labelColor,fontFamily:this.options.fontFamily,whiteSpace:"nowrap",pointerEvents:"none"}});const t=this.options.container;if(t instanceof HTMLElement)t.appendChild(this.wrapper);else{const e=document.querySelector(t);e&&e.appendChild(this.wrapper)}this.subscriptions.push(this.wavesurfer.on("redraw",(()=>this.render()))),this.subscriptions.push(this.wavesurfer.on("zoom",(()=>this.render()))),this.subscriptions.push(this.wavesurfer.on("scroll",(()=>this.render())))}destroy(){super.destroy(),this.wrapper&&this.wrapper.remove()}render(){var t,e,i,n,s,r,o,h,a,l,d,u,c,v,p,g,m,f,b,y,w,x,S,C,k,T,E,P,A,L,M,R,D,I,N,O,j,_,F,B,z,q,H,V,W,G,U,K,J,Q,X,Y,Z,$,tt,et,it,nt,st,rt,ot,ht,at,lt,dt,ut,ct,vt,pt,gt,mt,ft,bt,yt,wt,xt,St,Ct,kt,Tt,Et,Pt,At,Lt,Mt,Rt,Dt,It,Nt,Ot,jt,_,Ft,Bt,zt,qt,Ht,Vt,Wt,Gt,Ut,Kt,Jt,Qt,Xt,Yt,Zt,$t,te,ee,ie,ne,se,re,oe,he,ae,le,de,ue,ce,ve,pe,ge,me,fe,be,ye,we,xe,Se,Ce,ke,Te,Ee,Pe,Ae,Le,Me,Re,De,Ie,Ne,Oe,je,_,Fe,Be,ze,qe,He,Ve,We,Ge,Ue,Ke,Je,Qe,Xe,Ye,Ze,$e,ti,ei,ii,ni,si,ri,oi,hi,ai,li,di,ui,ci,vi,pi,gi,mi,fi,bi,yi,wi,xi,Si,Ci,ki,Ti,Ei,Pi,Ai,Li,Mi,Ri,Di,Ii,Ni,Oi,ji,_,Fi,Bi,zi,qi,Hi,Vi,Wi,Gi,Ui,Ki,Ji,Qi,Xi,Yi,Zi,$i,tj,ej,ij,nj,sj,rj,oj,hj,aj,lj,dj,uj,cj,vj,pj,gj,mj,fj,bj,yj,wj,xj,Sj,Cj,kj,Tj,Ej,Pj,Aj,Lj,Mj,Rj,Dj,Ij,Nj,Oj,jj,_,Fj,Bj,zj,qj,Hj,Vj,Wj,Gj,Uj,Kj,Jj,Qj,Xj,Yj,Zj,$j,tk,ek,ik,nk,sk,rk,ok,hk,ak,lk,dk,uk,ck,vk,pk,gk,mk,fk,bk,yk,wk,xk,Sk,Ck,kk,Tk,Ek,Pk,Ak,Lk,Mk,Rk,Dk,Ik,Nk,Ok,jk,_,Fk,Bk,zk,qk,Hk,Vk,Wk,Gk,Uk,Kk,Jk,Qk,Xk,Yk,Zk,$k,tl,el,il,nl,sl,rl,ol,hl,al,ll,dl,ul,cl,vl,pl,gl,ml,fl,bl,yl,wl,xl,Sl,Cl,kl,Tl,El,Pl,Al,Ll,Ml,Rl,Dl,Il,Nl,Ol,jl,_,Fl,Bl,zl,ql,Hl,Vl,Wl,Gl,Ul,Kl,Jl,Ql,Xl,Yl,Zl,$l,tm,em,im,nm,sm,rm,om,hm,am,lm,dm,um,cm,vm,pm,gm,mm,fm,bm,ym,wm,xm,Sm,Cm,km,Tm,Em,Pm,Am,Lm,Mm,Rm,Dm,Im,Nm,Om,jm,_,Fm,Bm,zm,qm,Hm,Vm,Wm,Gm,Um,Km,Jm,Qm,Xm,Ym,Zm,$m,tn,en,in,nn,sn,rn,on,hn,an,ln,dn,un,cn,vn,pn,gn,mn,fn,bn,yn,wn,xn,Sn,Cn,kn,Tn,En,Pn,An,Ln,Mn,Rn,Dn,In,Nn,On,jn,_,Fn,Bn,zn,qn,Hn,Vn,Wn,Gn,Un,Kn,Jn,Qn,Xn,Yn,Zn,$n,to,eo,io,no,so,ro,oo,ho,ao,lo,do,uo,co,vo,po,go,mo,fo,bo,yo,wo,xo,So,Co,ko,To,Eo,Po,Ao,Lo,Mo,Ro,Do,Io,No,Oo,jo,_,Fo,Bo,zo,qo,Ho,Vo,Wo,Go,Uo,Ko,Jo,Qo,Xo,Yo,Zo,$o,tp,ep,ip,np,sp,rp,op,hp,ap,lp,dp,up,cp,vp,pp,gp,mp,fp,bp,yp,wp,xp,Sp,Cp,kp,Tp,Ep,Pp,Ap,Lp,Mp,Rp,Dp,Ip,Np,Op,jp,_,Fp,Bp,zp,qp,Hp,Vp,Wp,Gp,Up,Kp,Jp,Qp,Xp,Yp,Zp,$p,tq,eq,iq,nq,sq,rq,oq,hq,aq,lq,dq,uq,cq,vq,pq,gq,mq,fq,bq,yq,wq,xq,Sq,Cq,kq,Tq,Eq,Pq,Aq,Lq,Mq,Rq,Dq,Iq,Nq,Oq,jq,_,Fq,Bq,zq,qq,Hq,Vq,Wq,Gq,Uq,Kq,Jq,Qq,Xq,Yq,Zq,$q,tr,er,ir,nr,sr,rr,or,hr,ar,lr,dr,ur,cr,vr,pr,gr,mr,fr,br,yr,wr,xr,Sr,Cr,kr,Tr,Er,Pr,Ar,Lr,Mr,Rr,Dr,Ir,Nr,Or,jr,_,Fr,Br,zr,qr,Hr,Vr,Wr,Gr,Ur,Kr,Jr,Qr,Xr,Yr,Zr,$r,ts,es,is,ns,ss,rs,os,hs,as,ls,ds,us,cs,vs,ps,gs,ms,fs,bs,ys,ws,xs,Ss,Cs,ks,Ts,Es,Ps,As,Ls,Ms,Rs,Ds,Is,Ns,Os,js,_,Fs,Bs,zs,qs,Hs,Vs,Ws,Gs,Us,Ks,Js,Qs,Xs,Ys,Zs,$s,tt,et,it,nt,st,rt,ot,ht,at,lt,dt,ut,ct,vt,pt,gt,mt,ft,bt,yt,wt,xt,St,Ct,kt,Tt,Et,Pt,At,Lt,Mt,Rt,Dt,It,Nt,Ot,jt,_,Ft,Bt,zt,qt,Ht,Vt,Wt,Gt,Ut,Kt,Jt,Qt,Xt,Yt,Zt,$t,tu,eu,iu,nu,su,ru,ou,hu,au,lu,du,uu,cu,vu,pu,gu,mu,fu,bu,yu,wu,xu,Su,Cu,ku,Tu,Eu,Pu,Au,Lu,Mu,Ru,Du,Iu,Nu,Ou,ju,_,Fu,Bu,zu,qu,Hu,Vu,Wu,Gu,Uu,Ku,Ju,Qu,Xu,Yu,Zu,$u,tv,ev,iv,nv,sv,rv,ov,hv,av,lv,dv,uv,cv,vv,pv,gv,mv,fv,bv,yv,wv,xv,Sv,Cv,kv,Tv,Ev,Pv,Av,Lv,Mv,Rv,Dv,Iv,Nv,Ov,jv,_,Fv,Bv,zv,qv,Hv,Vv,Wv,Gv,Uv,Kv,Jv,Qv,Xv,Yv,Zv,$v,tw,ew,iw,nw,sw,rw,ow,hw,aw,lw,dw,uw,cw,vw,pw,gw,mw,fw,bw,yw,ww,xw,Sw,Cw,kw,Tw,Ew,Pw,Aw,Lw,Mw,Rw,Dw,Iw,Nw,Ow,jw,_,Fw,Bw,zw,qw,Hw,Vw,Ww,Gw,Uw,Kw,Jw,Qw,Xw,Yw,Zw,$w,tx,ex,ix,nx,sx,rx,ox,hx,ax,lx,dx,ux,cx,vx,px,gx,mx,fx,bx,yx,wx,xx,Sx,Cx,kx,Tx,Ex,Px,Ax,Lx,Mx,Rx,Dx,Ix,Nx,Ox,jx,_,Fx,Bx,zx,qx,Hx,Vx,Wx,Gx,Ux,Kx,Jx,Qx,Xx,Yx,Zx,$x,ty,ey,iy,ny,sy,ry,oy,hy,ay,ly,dy,uy,cy,vy,py,gy,my,fy,by,yy,wy,xy,Sy,Cy,ky,Ty,Ey,Py,Ay,Ly,My,Ry,Dy,Iy,Ny,Oy,jy,_,Fy,By,zy,qy,Hy,Vy,Wy,Gy,Uy,Ky,Jy,Qy,Xy,Yy,Zy,$y,tz,ez,iz,nz,sz,rz,oz,hz,az,lz,dz,uz,cz,vz,pz,gz,mz,fz,bz,yz,wz,xz,Sz,Cz,kz,Tz,Ez,Pz,Az,Lz,Mz,Rz,Dz,Iz,Nz,Oz,jz,_,Fz,Bz,zz,qz,Hz,Vz,Wz,Gz,Uz,Kz,Jz,Qz,Xz,Yz,Zz,$z,tA,eA,iA,nA,sA,rA,oA,hA,aA,lA,dA,uA,cA,vA,pA,gA,mA,fA,bA,yA,wA,xA,SA,CA,kA,TA,EA,PA,AA,LA,MA,RA,DA,IA,NA,OA,jA,_,FA,BA,zA,qA,HA,VA,WA,GA,UA,KA,JA,QA,XA,YA,ZA,$A,tB,eB,iB,nB,sB,rB,oB,hB,aB,lB,dB,uB,cB,vB,pB,gB,mB,fB,bB,yB,wB,xB,SB,CB,kB,TB,EB,PB,AB,LB,MB,RB,DB,IB,NB,OB,jB,_,FB,BB,zB,qB,HB,VB,WB,GB,UB,KB,JB,QB,XB,YB,ZB,$B,tC,eC,iC,nC,sC,rC,oC,hC,aC,lC,dC,uC,cC,vC,pC,gC,mC,fC,bC,yC,wC,xC,SC,CC,kC,TC,EC,PC,AC,LC,MC,RC,DC,IC,NC,OC,jC,_,FC,BC,zC,qC,HC,VC,WC,GC,UC,KC,JC,QC,XC,YC,ZC,$C,tD,eD,iD,nD,sD,rD,oD,hD,aD,lD,dD,uD,cD,vD,pD,gD,mD,fD,bD,yD,wD,xD,SD,CD,kD,TD,ED,PD,AD,LD,MD,RD,DD,ID,ND,OD,jD,_,FD,BD,zD,qD,HD,VD,WD,GD,UD,KD,JD,QD,XD,YD,ZD,$D,tE,eE,iE,nE,sE,rE,oE,hE,aE,lE,dE,uE,cE,vE,pE,gE,mE,fE,bE,yE,wE,xE,SE,CE,kE,TE,EE,PE,AE,LE,ME,RE,DE,IE,NE,OE,jE,_,FE,BE,zE,qE,HE,VE,WE,GE,UE,KE,JE,QE,XE,YE,ZE,$E,tF,eF,iF,nF,sF,rF,oF,hF,aF,lF,dF,uF,cF,vF,pF,gF,mF,fF,bF,yF,wF,xF,SF,CF,kF,TF,EF,PF,AF,LF,MF,RF,DF,IF,NF,OF,jF,_,FF,BF,zF,qF,HF,VF,WF,GF,UF,KF,JF,QF,XF,YF,ZF,$F,tG,eG,iG,nG,sG,rG,oG,hG,aG,lG,dG,uG,cG,vG,pG,gG,mG,fG,bG,yG,wG,xG,SG,CG,kG,TG,EG,PG,AG,LG,MG,RG,DG,IG,NG,OG,jG,_,FG,BG,zG,qG,HG,VG,WG,GG,UG,KG,JG,QG,XG,YG,ZG,$G,tH,eH,iH,nH,sH,rH,oH,hH,aH,lH,dH,uH,cH,vH,pH,gH,mH,fH,bH,yH,wH,xH,SH,CH,kH,TH,EH,PH,AH,LH,MH,RH,DH,IH,NH,OH,jH,_,FH,BH,zH,qH,HH,VH,WH,GH,UH,KH,JH,QH,XH,YH,ZH,$H,tI,eI,iI,nI,sI,rI,oI,hI,aI,lI,dI,uI,cI,vI,pI,gI,mI,fI,bI,yI,wI,xI,SI,CI,kI,TI,EI,PI,AI,LI,MI,RI,DI,II,NI,OI,jI,_,FI,BI,zI,qI,HI,VI,WI,GI,UI,KI,JI,QI,XI,YI,ZI,$I,tJ,eJ,iJ,nJ,sJ,rJ,oJ,hJ,aJ,lJ,dJ,uJ,cJ,vJ,pJ,gJ,mJ,fJ,bJ,yJ,wJ,xJ,SJ,CJ,kJ,TJ,EJ,PJ,AJ,LJ,MJ,RJ,DJ,IJ,NJ,OJ,jJ,_,FJ,BJ,zJ,qJ,HJ,VJ,WJ,GJ,UJ,KJ,JJ,QJ,XJ,YJ,ZJ,$J,tK,eK,iK,nK,sK,rK,oK,hK,aK,lK,dK,uK,cK,vK,pK,gK,mK,fK,bK,yK,wK,xK,SK,CK,kK,TK,EK,PK,AK,LK,MK,RK,DK,IK,NK,OK,jK,_,FK,BK,zK,qK,HK,VK,WK,GK,UK,KK,JK,QK,XK,YK,ZK,$K,tL,eL,iL,nL,sL,rL,oL,hL,aL,lL,dL,uL,cL,vL,pL,gL,mL,fL,bL,yL,wL,xL,SL,CL,kL,TL,EL,PL,AL,LL,ML,RL,DL,IL,NL,OL,jL,_,FL,BL,zL,qL,HL,VL,WL,GL,UL,KL,JL,QL,XL,YL,ZL,$L,tM,eM,iM,nM,sM,rM,oM,hM,aM,lM,dM,uM,cM,vM,pM,gM,mM,fM,bM,yM,wM,xM,SM,CM,kM,TM,EM,PM,AM,LM,MM,RM,DM,IM,NM,OM,jM,_,FM,BM,zM,qM,HM,VM,WM,GM,UM,KM,JM,QM,XM,YM,ZM,$M,tN,eN,iN,nN,sN,rN,oN,hN,aN,lN,dN,uN,cN,vN,pN,gN,mN,fN,bN,yN,wN,xN,SN,CN,kN,TN,EN,PN,AN,LN,MN,RN,DN,IN,NN,ON,jN,_,FN,BN,zN,qN,HN,VN,WN,GN,UN,KN,JN,QN,XN,YN,ZN,$N,tO,eO,iO,nO,sO,rO,oO,hO,aO,lO,dO,uO,cO,vO,pO,gO,mO,fO,bO,yO,wO,xO,SO,CO,kO,TO,EO,PO,AO,LO,MO,RO,DO,IO,NO,OO,jO,_,FO,BO,zO,qO,HO,VO,WO,GO,UO,KO,JO,QO,XO,YO,ZO,$O,tP,eP,iP,nP,sP,rP,oP,hP,aP,lP,dP,uP,cP,vP,pP,gP,mP,fP,bP,yP,wP,xP,SP,CP,kP,TP,EP,PP,AP,LP,MP,RP,DP,IP,NP,OP,jP,_,FP,BP,zP,qP,HP,VP,WP,GP,UP,KP,JP,QP,XP,YP,ZP,$P,tQ,eQ,iQ,nQ,sQ,rQ,oQ,hQ,aQ,lQ,dQ,uQ,cQ,vQ,pQ,gQ,mQ,fQ,bQ,yQ,wQ,xQ,SQ,CQ,kQ,TQ,EQ,PQ,AQ,LQ,MQ,RQ,DQ,IQ,NQ,OQ,jQ,_,FQ,BQ,zQ,qQ,HQ,VQ,WQ,GQ,UQ,KQ,JQ,QQ,XQ,YQ,ZQ,$Q,tR,eR,iR,nR,sR,rR,oR,hR,aR,lR,dR,uR,cR,vR,pR,gR,mR,fR,bR,yR,wR,xR,SR,CR,kR,TR,ER,PR,AR,LR,MR,RR,DR,IR,NR,OR,jR,_,FR,BR,zR,qR,HR,VR,WR,GR,UR,KR,JR,QR,XR,YR,ZR,$R,tS,eS,iS,nS,sS,rS,oS,hS,aS,lS,dS,uS,cS,vS,pS,gS,mS,fS,bS,yS,wS,xS,SS,CS,kS,TS,ES,PS,AS,LS,MS,RS,DS,IS,NS,OS,jS,_,FS,BS,zS,qS,HS,VS,WS,GS,US,KS,JS,QS,XS,YS,ZS,$S,tT,eT,iT,nT,sT,rT,oT,hT,aT,lT,dT,uT,cT,vT,pT,gT,mT,fT,bT,yT,wT,xT,ST,CT,kT,TT,ET,PT,AT,LT,MT,RT,DT,IT,NT,OT,jT,_,FT,BT,zT,qT,HT,VT,WT,GT,UT,KT,JT,QT,XT,YT,ZT,$T,tU,eU,iU,nU,sU,rU,oU,hU,aU,lU,dU,uU,cU,vU,pU,gU,mU,fU,bU,yU,wU,xU,SU,CU,kU,TU,EU,PU,AU,LU,MU,RU,DU,IU,NU,OU,jU,_,FU,BU,zU,qU,HU,VU,WU,GU,UU,KU,JU,QU,XU,YU,ZU,$U,tV,eV,iV,nV,sV,rV,oV,hV,aV,lV,dV,uV,cV,vV,pV,gV,mV,fV,bV,yV,wV,xV,SV,CV,kV,TV,EV,PV,AV,LV,MV,RV,DV,IV,NV,OV,jV,_,FV,BV,zV,qV,HV,VV,WV,GV,UV,KV,JV,QV,XV,YV,ZV,$V,tW,eW,iW,nW,sW,rW,oW,hW,aW,lW,dW,uW,cW,vW,pW,gW,mW,fW,bW,yW,wW,xW,SW,CW,kW,TW,EW,PW,AW,LW,MW,RW,DW,IW,NW,OW,jW,_,FW,BW,zW,qW,HW,VW,WW,GW,UW,KW,JW,QW,XW,YW,ZW,$W,tX,eX,iX,nX,sX,rX,oX,hX,aX,lX,dX,uX,cX,vX,pX,gX,mX,fX,bX,yX,wX,xX,SX,CX,kX,TX,EX,PX,AX,LX,MX,RX,DX,IX,NX,OX,jX,_,FX,BX,zX,qX,HX,VX,WX,GX,UX,KX,JX,QX,XX,YX,ZX,$X,tY,eY,iY,nY,sY,rY,oY,hY,aY,lY,dY,uY,cY,vY,pY,gY,mY,fY,bY,yY,wY,xY,SY,CY,kY,TY,EY,PY,AY,LY,MY,RY,DY,IY,NY,OY,jY,_,FY,BY,zY,qY,HY,VY,WY,GY,UY,KY,JY,QY,XY,YY,ZY,$Y,tZ,eZ,iZ,nZ,sZ,rZ,oZ,hZ,aZ,lZ,dZ,uZ,cZ,vZ,pZ,gZ,mZ,fZ,bZ,yZ,wZ,xZ,SZ,CZ,kZ,TZ,EZ,PZ,AZ,LZ,MZ,RZ,DZ,IZ,NZ,OZ,jZ,_,FZ,BZ,zZ,qZ,HZ,VZ,WZ,GZ,UZ,KZ,JZ,QZ,XZ,YZ,ZZ,$Z,t$,e$,i$,n$,s$,r$,o$,h$,a$,l$,d$,u$,c$,v$,p$,g$,m$,f$,b$,y$,w$,x$,S$,C$,k$,T$,E$,P$,A$,L$,M$,R$,D$,I$,N$,O$,j$,_,F$,B$,z$,q$,H$,V$,W$,G$,U$,K$,J$,Q$,X$,Y$,Z$,$$){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const t=this.wavesurfer.getWrapper();if(!this.wrapper)return;const e=this.wavesurfer.getDuration(),s=this.wavesurfer.getScroll(),r=this.wavesurfer.getOptions().pixelRatio,o=t.clientWidth,h=e/o,a=this.options.timeInterval*r,l=this.options.primaryLabelInterval*r,d=this.options.secondaryLabelInterval*r;this.wrapper.innerHTML="";const u=Math.round(s/a),c=Math.round((s+o)/a);for(let t=u;t<=c;t++){const e=t*a,s=e*h,r=s.toFixed(1);let o=null;t%l==0?o=this.createLabel(r,e,o,"primary"):t%d==0&&(o=this.createLabel(r,e,o,"secondary")),o&&this.wrapper.appendChild(o)}this.labels=Array.from(this.wrapper.children)}createLabel(t,e,n,s){const r=i("span",{textContent:t,style:{position:"absolute",left:`${e}px`,top:"0",transform:"translateX(-50%)"}});return r.setAttribute("data-label-type",s),r}destroy(){super.destroy(),this.wrapper&&this.wrapper.remove()}}return n}));
